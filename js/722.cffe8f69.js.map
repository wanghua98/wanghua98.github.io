{"version":3,"file":"js/722.cffe8f69.js","mappings":"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","sources":["webpack://vue-demo2/./src/views/Elder/ElderHealthyManage.vue","webpack://vue-demo2/./src/views/Elder/ElderHealthyManage.vue?4087","webpack://vue-demo2/./src/utils/config.js"],"sourcesContent":["<template>\r\n  <div class=\"health-dashboard-container\">\r\n    <header class=\"dashboard-header\">\r\n      <div>\r\n        <h1>健康看板</h1>\r\n        <p class=\"subtitle\">关键健康指标综合概览。</p>\r\n      </div>\r\n      <div v-if=\"!loading && !error\" class=\"last-updated\">\r\n        最后更新于： {{ lastUpdated }}\r\n      </div>\r\n    </header>\r\n\r\n    <div v-if=\"loading\" class=\"status-overlay\">\r\n      <div class=\"spinner\"></div>\r\n      <p>正在加载健康数据...</p>\r\n    </div>\r\n\r\n    <div v-if=\"error\" class=\"status-overlay error\">\r\n      <div class=\"error-icon\">!</div>\r\n      <p>数据加载失败：{{ error }}</p>\r\n      <button @click=\"fetchHealthData\">重试</button>\r\n    </div>\r\n\r\n    <main v-if=\"!loading && !error\" class=\"dashboard-grid\">\r\n      \r\n      <div class=\"metric-card heart-rate\">\r\n        <div class=\"card-header\">\r\n          <svg class=\"icon\" viewBox=\"0 0 24 24\"><path d=\"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z\"/></svg>\r\n          <h2>心率</h2>\r\n        </div>\r\n        <p class=\"latest-value\">{{ latestHeartRate || '无数据' }} <span>bpm</span></p>\r\n      </div>\r\n\r\n      <div class=\"metric-card blood-pressure\">\r\n        <div class=\"card-header\">\r\n          <svg class=\"icon\" viewBox=\"0 0 24 24\"><path d=\"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12H17A5,5 0 0,0 12,7V4M4,12A8,8 0 0,1 12,4V7A5,5 0 0,0 7,12H4Z\" /></svg>\r\n          <h2>血压</h2>\r\n        </div>\r\n        <p class=\"latest-value\">{{ latestBloodPressure || '无数据' }} <span>mmHg</span></p>\r\n      </div>\r\n\r\n      <div class=\"metric-card blood-sugar\">\r\n        <div class=\"card-header\">\r\n           <svg class=\"icon\" viewBox=\"0 0 24 24\"><path d=\"M18.5,1.15C18.25,1.15 18,1.25 17.82,1.42L12.5,6.74L7.18,1.42C7,1.25 6.75,1.15 6.5,1.15C6.09,1.15 5.75,1.46 5.75,1.85V10.78C5.75,11.71 6.47,12.46 7.39,12.5C8.3,12.54 9.08,11.86 9.08,11V4.28L12.5,7.69L15.92,4.28V11C15.92,11.86 16.7,12.54 17.61,12.5C18.53,12.46 19.25,11.71 19.25,10.78V1.85C19.25,1.46 18.91,1.15 18.5,1.15M20,15H5C4.45,15 4,15.45 4,16V21C4,21.55 4.45,22 5,22H20C20.55,22 21,21.55 21,21V16C21,15.45 20.55,15 20,15Z\" /></svg>\r\n          <h2>血糖</h2>\r\n        </div>\r\n        <p class=\"latest-value\">{{ latestBloodSugar || '无数据' }} <span>mmol/L</span></p>\r\n      </div>\r\n\r\n      <div class=\"metric-card weight\">\r\n        <div class=\"card-header\">\r\n          <svg class=\"icon\" viewBox=\"0 0 24 24\"><path d=\"M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A9,9 0 0,0 21,12A9,9 0 0,0 12,3M12,11H6V13H12V11M10,5L12,9L14,5H10Z\" /></svg>\r\n          <h2>体重</h2>\r\n        </div>\r\n        <p class=\"latest-value\">{{ latestWeight || '无数据' }} <span>kg</span></p>\r\n      </div>\r\n\r\n      <div class=\"history-card wide-card\">\r\n        <h2>病史记录</h2>\r\n        <p>{{ medicalHistory || '暂无病史记录。' }}</p>\r\n      </div>\r\n       <div class=\"history-card wide-card\">\r\n        <h2>过敏史</h2>\r\n        <p>{{ allergyHistory || '暂无过敏史记录。' }}</p>\r\n      </div>\r\n\r\n      <div class=\"history-card\">\r\n        <h2>心率历史记录 (bpm)</h2>\r\n        <ul class=\"bar-chart-list\" v-if=\"heartRateData.length\">\r\n          <li v-for=\"(rate, index) in heartRateData\" :key=\"index\">\r\n            <span class=\"label\">{{ rate }}</span>\r\n            <div class=\"bar-wrapper\">\r\n              <span class=\"bar\" :style=\"{ width: calculateBarWidth(rate, 40, 160) + '%' }\"></span>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <p v-else>暂无历史记录。</p>\r\n      </div>\r\n\r\n      <div class=\"history-card\">\r\n        <h2>血压历史记录 (收缩压/舒张压)</h2>\r\n        <ul class=\"bar-chart-list dual-bar\" v-if=\"bloodPressureData.length\">\r\n           <li v-for=\"(bp, index) in bloodPressureData\" :key=\"index\">\r\n            <span class=\"label\">{{ bp.systolic }} / {{ bp.diastolic }}</span>\r\n            <div class=\"bar-wrapper\">\r\n              <span class=\"bar systolic\" :style=\"{ width: calculateBarWidth(bp.systolic, 60, 200) + '%' }\"></span>\r\n              <span class=\"bar diastolic\" :style=\"{ width: calculateBarWidth(bp.diastolic, 40, 120) + '%' }\"></span>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <p v-else>暂无历史记录。</p>\r\n      </div>\r\n      \r\n      <div class=\"history-card\">\r\n        <h2>血糖历史记录 (mmol/L)</h2>\r\n        <ul class=\"bar-chart-list\" v-if=\"bloodSugarData.length\">\r\n           <li v-for=\"(sugar, index) in bloodSugarData\" :key=\"index\">\r\n            <span class=\"label\">{{ sugar }}</span>\r\n            <div class=\"bar-wrapper\">\r\n              <span class=\"bar\" :style=\"{ width: calculateBarWidth(sugar, 2, 15) + '%' }\"></span>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <p v-else>暂无历史记录。</p>\r\n      </div>\r\n\r\n       <div class=\"history-card\">\r\n        <h2>体重历史记录 (kg)</h2>\r\n        <ul class=\"bar-chart-list\" v-if=\"weightData.length\">\r\n           <li v-for=\"(w, index) in weightData\" :key=\"index\">\r\n            <span class=\"label\">{{ w }}</span>\r\n            <div class=\"bar-wrapper\">\r\n              <span class=\"bar\" :style=\"{ width: calculateBarWidth(w, 40, 120) + '%' }\"></span>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <p v-else>暂无历史记录。</p>\r\n      </div>\r\n\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, computed } from 'vue';\r\nimport config from '@/utils/config';\r\n\r\n\r\n// --- 配置 ---\r\n// 使用全局配置的API地址\r\nconst BASE_URL = config.API_BASE_URL;\r\nconst AUTH_TOKEN_KEY = 'token';\r\n\r\n// --- 响应式状态定义 ---\r\nconst heartRateData = ref([]);\r\nconst bloodPressureData = ref([]);\r\nconst bloodSugarData = ref([]);\r\nconst weightData = ref([]);\r\nconst medicalHistory = ref('');\r\nconst allergyHistory = ref('');\r\nconst lastUpdated = ref('');\r\n\r\nconst loading = ref(true);\r\nconst error = ref(null);\r\n\r\n// --- 计算属性 ---\r\nconst latestHeartRate = computed(() => heartRateData.value[0] ?? null);\r\nconst latestBloodPressure = computed(() => {\r\n  if (!bloodPressureData.value.length) return null;\r\n  const latest = bloodPressureData.value[0];\r\n  return `${latest.systolic}/${latest.diastolic}`;\r\n});\r\nconst latestBloodSugar = computed(() => bloodSugarData.value[0] ?? null);\r\nconst latestWeight = computed(() => weightData.value[0] ?? null);\r\n\r\n// --- 数据获取方法 (已重新注释和组织) ---\r\nconst fetchHealthData = async () => {\r\n  loading.value = true;\r\n  error.value = null;\r\n\r\n  // --- 步骤 1: 获取认证Token (与请求路径无关) ---\r\n  const authToken = localStorage.getItem(AUTH_TOKEN_KEY);\r\n\r\n  if (!authToken) {\r\n    error.value = \"用户未登录，请先登录。\";\r\n    loading.value = false;\r\n    return;\r\n  }\r\n\r\n  // --- 步骤 2: 构建请求头 (Headers)，将Token放入其中 ---\r\n  // 这是将Token与请求路径分离的关键步骤。\r\n  const requestHeaders = {\r\n    'Authorization': `Bearer ${authToken}`, // Bearer Token是标准用法\r\n    'Content-Type': 'application/json',\r\n  };\r\n\r\n  // 定义所有需要请求的API端点 (路径)\r\n  const endpoints = ['heartRate', 'bloodPressure', 'bloodSugar', 'weight', 'medicalHistory', 'allergyHistory'];\r\n  \r\n  try {\r\n    // --- 步骤 3: 为每个路径(endpoint)创建并发送一个带请求头的请求 ---\r\n    const requests = endpoints.map(endpoint => {\r\n      // 构建完整的请求URL，这里不包含任何Token信息\r\n      const url = `${BASE_URL}/health/${endpoint}/history`;\r\n      \r\n      // 发送fetch请求，第一个参数是纯净的URL，第二个参数包含请求头\r\n      return fetch(url, { headers: requestHeaders })\r\n        .then(async (response) => {\r\n          if (response.status === 401 || response.status === 403) {\r\n            throw new Error('身份验证失败，请重新登录。');\r\n          }\r\n          if (!response.ok) {\r\n            throw new Error(`请求 ${endpoint} 失败: ${response.status} ${response.statusText}`);\r\n          }\r\n          \r\n          const contentType = response.headers.get(\"content-type\");\r\n          return contentType?.includes(\"application/json\") \r\n            ? response.json() \r\n            : response.text();\r\n        });\r\n    });\r\n\r\n    // 等待所有请求完成\r\n    const responses = await Promise.all(requests);\r\n    \r\n    // --- 步骤 4: 处理返回的数据 ---\r\n    const [\r\n      heartRateRes,\r\n      bloodPressureRes,\r\n      bloodSugarRes,\r\n      weightRes,\r\n      medicalHistoryRes,\r\n      allergyHistoryRes\r\n    ] = responses;\r\n    \r\n    // 更新Vue的响应式数据\r\n    heartRateData.value = heartRateRes.slice(-7).reverse();\r\n    bloodPressureData.value = bloodPressureRes.slice(-7).reverse();\r\n    bloodSugarData.value = bloodSugarRes.slice(-7).reverse();\r\n    weightData.value = weightRes.slice(-7).reverse();\r\n    medicalHistory.value = medicalHistoryRes;\r\n    allergyHistory.value = allergyHistoryRes;\r\n    \r\n    lastUpdated.value = new Date().toLocaleString('zh-CN');\r\n\r\n  } catch (err) {\r\n    console.error('获取健康数据失败:', err);\r\n    error.value = err.message || '无法连接到服务器。';\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\n// --- 辅助函数 ---\r\nconst calculateBarWidth = (value, min, max) => {\r\n  if (value < min) return 0;\r\n  if (value > max) return 100;\r\n  return ((value - min) / (max - min)) * 100;\r\n};\r\n\r\n\r\n// --- 生命周期钩子 ---\r\nonMounted(() => {\r\n  // 开发模式下使用模拟数据\r\n  if (BASE_URL.includes(\"127.0.0.1\")) {\r\n      console.warn(\"正在使用模拟数据进行演示。请确保您的后端服务已启动并正确配置。\");\r\n      setTimeout(() => {\r\n        heartRateData.value = [72, 75, 71, 78, 76, 80, 74].reverse();\r\n        bloodPressureData.value = [\r\n          {systolic: 120, diastolic: 80}, {systolic: 122, diastolic: 81},\r\n          {systolic: 125, diastolic: 80}, {systolic: 118, diastolic: 78},\r\n          {systolic: 130, diastolic: 85}, {systolic: 124, diastolic: 82},\r\n          {systolic: 126, diastolic: 83}\r\n        ].reverse();\r\n        bloodSugarData.value = [5.5, 6.1, 5.8, 6.5, 7.0, 6.2, 5.9].reverse();\r\n        weightData.value = [70.5, 70.2, 71.0, 70.8, 70.5, 70.9, 70.6].reverse();\r\n        medicalHistory.value = \"高血压 (2010年确诊), 2型糖尿病 (2015年确诊)。\";\r\n        allergyHistory.value = \"青霉素 (会引起皮疹)。\";\r\n        lastUpdated.value = new Date().toLocaleString('zh-CN');\r\n        loading.value = false;\r\n        error.value = null;\r\n      }, 1500);\r\n  } else {\r\n    // 生产模式或连接真实后端时，调用真实的数据获取方法\r\n    fetchHealthData();\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n/* CSS样式部分保持不变 */\r\n:root {\r\n  --bg-color: #f8f9fa;\r\n  --card-bg: #ffffff;\r\n  --text-primary: #212529;\r\n  --text-secondary: #6c757d;\r\n  --border-color: #dee2e6;\r\n  --shadow-color: rgba(0, 0, 0, 0.05);\r\n  \r\n  --color-heart: #e53935;\r\n  --color-bp: #1e88e5;\r\n  --color-sugar: #8e44ad;\r\n  --color-weight: #2e7d32;\r\n}\r\n\r\n.health-dashboard-container {\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, \"PingFang SC\", \"Microsoft YaHei\";\r\n  max-width: 1400px;\r\n  margin: 0 auto;\r\n  padding: 24px;\r\n  background-color: var(--bg-color);\r\n  color: var(--text-primary);\r\n}\r\n\r\n.dashboard-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.dashboard-header h1 {\r\n  font-size: 2.25rem;\r\n  font-weight: 700;\r\n  margin: 0;\r\n}\r\n\r\n.dashboard-header .subtitle {\r\n  font-size: 1.1rem;\r\n  color: var(--text-secondary);\r\n  margin-top: 4px;\r\n}\r\n\r\n.last-updated {\r\n  font-size: 0.9rem;\r\n  color: var(--text-secondary);\r\n  background-color: #e9ecef;\r\n  padding: 8px 12px;\r\n  border-radius: 8px;\r\n  white-space: nowrap;\r\n}\r\n\r\n.status-overlay {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 80px 20px;\r\n  text-align: center;\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.status-overlay p {\r\n  font-size: 1.2rem;\r\n  margin-top: 16px;\r\n  max-width: 500px;\r\n}\r\n\r\n.spinner {\r\n  width: 56px;\r\n  height: 56px;\r\n  border: 6px solid #e9ecef;\r\n  border-top-color: var(--color-bp);\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  to { transform: rotate(360deg); }\r\n}\r\n\r\n.status-overlay.error .error-icon {\r\n    font-size: 2rem;\r\n    font-weight: bold;\r\n    color: #dc3545;\r\n    width: 60px;\r\n    height: 60px;\r\n    border-radius: 50%;\r\n    border: 3px solid #dc3545;\r\n    display:flex;\r\n    align-items:center;\r\n    justify-content:center;\r\n}\r\n\r\n.status-overlay.error button {\r\n    margin-top: 20px;\r\n    padding: 10px 20px;\r\n    cursor: pointer;\r\n    border-radius: 8px;\r\n    border: 1px solid #007bff;\r\n    background-color: #007bff;\r\n    color: white;\r\n    font-size: 1rem;\r\n    transition: background-color 0.2s;\r\n}\r\n.status-overlay.error button:hover {\r\n    background-color: #0056b3;\r\n}\r\n\r\n.dashboard-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));\r\n  gap: 1.5rem;\r\n}\r\n\r\n.metric-card {\r\n  background: var(--card-bg);\r\n  padding: 20px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 15px var(--shadow-color);\r\n  border-top: 4px solid;\r\n  transition: transform 0.2s ease, box-shadow 0.2s ease;\r\n}\r\n\r\n.metric-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.metric-card.heart-rate { border-color: var(--color-heart); }\r\n.metric-card.blood-pressure { border-color: var(--color-bp); }\r\n.metric-card.blood-sugar { border-color: var(--color-sugar); }\r\n.metric-card.weight { border-color: var(--color-weight); }\r\n\r\n.metric-card .card-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n}\r\n\r\n.metric-card h2 {\r\n  margin: 0;\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  color: var(--text-secondary);\r\n}\r\n\r\n.metric-card .icon {\r\n  width: 28px;\r\n  height: 28px;\r\n  fill: var(--text-secondary);\r\n}\r\n\r\n.metric-card .latest-value {\r\n  font-size: 3rem;\r\n  font-weight: 700;\r\n  margin: 12px 0 0 0;\r\n  text-align: right;\r\n  line-height: 1;\r\n  color: var(--text-primary);\r\n}\r\n\r\n.metric-card .latest-value span {\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  color: var(--text-secondary);\r\n  margin-left: 8px;\r\n}\r\n\r\n.history-card {\r\n  background: var(--card-bg);\r\n  padding: 24px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 15px var(--shadow-color);\r\n}\r\n\r\n.history-card.wide-card {\r\n  grid-column: 1 / -1;\r\n}\r\n\r\n.history-card h2 {\r\n  margin-top: 0;\r\n  margin-bottom: 1rem;\r\n  font-size: 1.25rem;\r\n  border-bottom: 1px solid var(--border-color);\r\n  padding-bottom: 0.75rem;\r\n}\r\n\r\n.history-card p {\r\n  color: var(--text-secondary);\r\n  line-height: 1.6;\r\n}\r\n\r\n.bar-chart-list {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 12px;\r\n}\r\n\r\n.bar-chart-list li {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.bar-chart-list .label {\r\n  font-size: 0.9rem;\r\n  color: var(--text-primary);\r\n  width: 110px;\r\n  flex-shrink: 0;\r\n  text-align: right;\r\n}\r\n\r\n.bar-chart-list .bar-wrapper {\r\n  flex-grow: 1;\r\n  background-color: #e9ecef;\r\n  border-radius: 4px;\r\n  height: 20px;\r\n  position: relative;\r\n}\r\n\r\n.bar-chart-list .bar {\r\n  display: block;\r\n  height: 100%;\r\n  background-color: var(--color-bp);\r\n  border-radius: 4px;\r\n  transition: width 0.5s ease-out;\r\n}\r\n\r\n.history-card:has(.heart-rate) .bar, .heart-rate .bar { background-color: var(--color-heart); }\r\n.history-card:has(.blood-sugar) .bar, .blood-sugar .bar { background-color: var(--color-sugar); }\r\n.history-card:has(.weight) .bar, .weight .bar { background-color: var(--color-weight); }\r\n\r\n.bar-chart-list.dual-bar .bar-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 2px;\r\n  background: none;\r\n  height: auto;\r\n}\r\n.bar-chart-list.dual-bar .bar {\r\n  height: 10px;\r\n}\r\n.bar-chart-list .bar.systolic {\r\n  background-color: var(--color-bp);\r\n  opacity: 1;\r\n}\r\n.bar-chart-list .bar.diastolic {\r\n  background-color: var(--color-bp);\r\n  opacity: 0.6;\r\n}\r\n</style>\r\n","import script from \"./ElderHealthyManage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ElderHealthyManage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ElderHealthyManage.vue?vue&type=style&index=0&id=35fdd99e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-35fdd99e\"]])\n\nexport default __exports__","// 全局配置文件\nconst config = {\n  // 后端API基础地址\n  API_BASE_URL: 'https://14.103.237.241'\n};\n\nexport default config;"],"names":["AUTH_TOKEN_KEY","BASE_URL","config","API_BASE_URL","heartRateData","ref","bloodPressureData","bloodSugarData","weightData","medicalHistory","allergyHistory","lastUpdated","loading","error","latestHeartRate","computed","value","latestBloodPressure","length","latest","systolic","diastolic","latestBloodSugar","latestWeight","fetchHealthData","async","authToken","localStorage","getItem","requestHeaders","endpoints","requests","map","endpoint","url","fetch","headers","then","response","status","Error","ok","statusText","contentType","get","includes","json","text","responses","Promise","all","heartRateRes","bloodPressureRes","bloodSugarRes","weightRes","medicalHistoryRes","allergyHistoryRes","slice","reverse","Date","toLocaleString","err","console","message","calculateBarWidth","min","max","onMounted","warn","setTimeout","__exports__"],"sourceRoot":""}