{"version":3,"file":"js/425.6912130b.js","mappings":"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","sources":["webpack://vue-demo2/./src/views/Manager/AservePublishing.vue","webpack://vue-demo2/./src/views/Manager/AservePublishing.vue?2f26","webpack://vue-demo2/./src/views/Manager/Aserve.vue","webpack://vue-demo2/./src/views/Manager/Aserve.vue?e6fb","webpack://vue-demo2/./src/utils/config.js"],"sourcesContent":["<template>\r\n  <section class=\"service-publishing\">\r\n    <h2>陪诊服务发布与管理</h2>\r\n\r\n    <h3>发布陪诊服务</h3>\r\n    <form @submit.prevent=\"publishService\">\r\n      <label for=\"publish-chaperone-id\">陪诊人员ID:</label>\r\n      <input type=\"number\" id=\"publish-chaperone-id\" v-model=\"publishServiceData.chaperonId\" required>\r\n      <label for=\"publish-date\">服务日期:</label>\r\n      <input type=\"date\" id=\"publish-date\" v-model=\"publishServiceData.serviceDate\" required>\r\n      <button type=\"submit\">发布服务</button>\r\n    </form>\r\n\r\n    <h3>已发布陪诊服务列表</h3>\r\n    <button @click=\"fetchAdminServiceList\">刷新已发布列表</button>\r\n    <ul>\r\n      <li v-for=\"service in adminServiceList\" :key=\"service.id\">\r\n        ID: {{ service.id }}, 陪诊人员姓名: {{ service.name }}, 手机: {{ service.phone }}, 服务日期: {{ service.date }}\r\n        <button @click=\"unpublishService(service.id)\">下架</button>\r\n      </li>\r\n    </ul>\r\n  </section>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport config from '@/utils/config';\r\n\r\n\r\n// 陪诊服务发布与管理\r\nconst publishServiceData = ref({\r\n  chaperonId: null,\r\n  serviceDate: ''\r\n});\r\nconst adminServiceList = ref([]);\r\n\r\n// Backend API paths\r\n// 使用全局配置的API地址\r\nconst BASE_URL = config.API_BASE_URL;\r\nconst SERVICES_PATH = '/services';\r\nconst SERVICES_PATH_ALL='/services/all';\r\n\r\n// Helper function: Handle Fetch response\r\nconst handleResponse = async (response) => {\r\n  if (!response.ok) {\r\n    const errorData = await response.json();\r\n    throw new Error(errorData.msg || '请求失败');\r\n  }\r\n  return response.json();\r\n};\r\n\r\n// 5.6 Publish Chaperone Service\r\nconst publishService = async () => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}${SERVICES_PATH}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(publishServiceData.value)\r\n    });\r\n    const data = await handleResponse(response);\r\n    if (data.code === 1) {\r\n      alert('发布陪诊服务成功！');\r\n      publishServiceData.value = { chaperonId: null, serviceDate: '' };\r\n      fetchAdminServiceList(); // Refresh published list\r\n    } else {\r\n      alert(`发布失败: ${data.msg}`);\r\n    }\r\n  } catch (error) {\r\n    console.error('发布陪诊服务出错:', error);\r\n    alert(`发布陪诊服务失败: ${error.message}`);\r\n  }\r\n};\r\n\r\n// 5.7 Administrator Get Chaperone Service List\r\nconst fetchAdminServiceList = async () => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}${SERVICES_PATH_ALL}`, {\r\n      method: 'GET',\r\n    });\r\n    const data = await handleResponse(response);\r\n    if (data.code === 1) {\r\n      adminServiceList.value = data.data.rows;\r\n    } else {\r\n      alert(`获取已发布陪诊列表失败: ${data.msg}`);\r\n      adminServiceList.value = [];\r\n    }\r\n  } catch (error) {\r\n    console.error('获取已发布陪诊列表出错:', error);\r\n    alert(`获取已发布陪诊列表失败: ${error.message}`);\r\n    adminServiceList.value = [];\r\n  }\r\n};\r\n\r\n// 5.8 Unpublish Chaperone Service\r\nconst unpublishService = async (serviceId) => {\r\n  if (!confirm(`确定要下架ID为 ${serviceId} 的陪诊服务吗？`)) {\r\n    return;\r\n  }\r\n  try {\r\n    const response = await fetch(`${BASE_URL}${SERVICES_PATH}?id=${serviceId}`, {\r\n      method: 'DELETE',\r\n    });\r\n    const data = await handleResponse(response);\r\n    if (data.code === 1) {\r\n      alert('下架陪诊服务成功！');\r\n      fetchAdminServiceList(); // Refresh published list\r\n    } else {\r\n      alert(`下架失败: ${data.msg}`);\r\n    }\r\n  } catch (error) {\r\n    console.error('下架陪诊服务出错:', error);\r\n    alert(`下架陪诊服务失败: ${error.message}`);\r\n  }\r\n};\r\n\r\n// Automatically fetch published service list on component mount\r\nonMounted(() => {\r\n  fetchAdminServiceList();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.service-publishing {\r\n  background-color: #f9f9f9;\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\nh2, h3 {\r\n  color: #333;\r\n}\r\n\r\nform {\r\n  display: grid;\r\n  grid-template-columns: 120px 1fr;\r\n  gap: 10px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\nlabel {\r\n  text-align: right;\r\n  padding-right: 10px;\r\n  line-height: 32px;\r\n}\r\n\r\ninput[type=\"text\"],\r\ninput[type=\"number\"],\r\ninput[type=\"date\"],\r\ntextarea,\r\nselect {\r\n  width: calc(100% - 20px);\r\n  padding: 8px 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\nbutton {\r\n  grid-column: 2 / 3;\r\n  width: auto;\r\n  padding: 10px 15px;\r\n  background-color: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  margin-top: 10px;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\n\r\nli {\r\n  background-color: #fff;\r\n  border: 1px solid #eee;\r\n  padding: 10px;\r\n  margin-bottom: 8px;\r\n  border-radius: 5px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\nli button {\r\n  margin-left: 15px;\r\n  padding: 5px 10px;\r\n  font-size: 14px;\r\n}\r\n\r\n.service-publishing ul li button {\r\n  background-color: #dc3545;\r\n}\r\n.service-publishing ul li button:hover {\r\n  background-color: #c82333;\r\n}\r\n</style>","import script from \"./AservePublishing.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AservePublishing.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AservePublishing.vue?vue&type=style&index=0&id=dc3add2a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-dc3add2a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"admin-chaperone-service\">\r\n    <h1>陪诊服务发布</h1>\r\n\r\n    <section class=\"chaperone-management\">\r\n      <h2>陪诊人员管理</h2>\r\n\r\n      <h3>新增陪诊人员</h3>\r\n      <form @submit.prevent=\"addChaperone\">\r\n        <label for=\"add-name\">姓名:</label>\r\n        <input type=\"text\" id=\"add-name\" v-model=\"newChaperone.name\" required>\r\n        <label for=\"add-gender\">性别:</label>\r\n        <select id=\"add-gender\" v-model=\"newChaperone.gender\" required>\r\n          <option :value=\"null\" disabled></option>\r\n          <option :value=\"1\">男</option>\r\n          <option :value=\"2\">女</option>\r\n        </select>\r\n        <label for=\"add-phone\">手机号:</label>\r\n        <input type=\"text\" id=\"add-phone\" v-model=\"newChaperone.phone\" required>\r\n        <label for=\"add-introduction\">个人简介:</label>\r\n        <textarea id=\"add-introduction\" v-model=\"newChaperone.introduction\" required></textarea>\r\n        <button type=\"submit\">添加陪诊人员</button>\r\n      </form>\r\n\r\n      <h3>删除陪诊人员</h3>\r\n      <form @submit.prevent=\"deleteChaperone\">\r\n        <label for=\"delete-id\">陪诊人员ID:</label>\r\n        <input type=\"number\" id=\"delete-id\" v-model=\"deleteChaperoneId\" required>\r\n        <button type=\"submit\">删除陪诊人员</button>\r\n      </form>\r\n\r\n      <h3>修改陪诊人员信息</h3>\r\n      <form @submit.prevent=\"updateChaperone\">\r\n        <label for=\"update-id\">陪诊人员ID:</label>\r\n        <input type=\"number\" id=\"update-id\" v-model=\"updateChaperoneData.id\" required>\r\n        <label for=\"update-name\">姓名:</label>\r\n        <input type=\"text\" id=\"update-name\" v-model=\"updateChaperoneData.name\">\r\n        <label for=\"update-gender\">性别:</label>\r\n        <select id=\"update-gender\" v-model=\"updateChaperoneData.gender\">\r\n          <option :value=\"null\"></option>\r\n          <option :value=\"1\">男</option>\r\n          <option :value=\"2\">女</option>\r\n        </select>\r\n        <label for=\"update-phone\">手机号:</label>\r\n        <input type=\"text\" id=\"update-phone\" v-model=\"updateChaperoneData.phone\">\r\n        <label for=\"update-introduction\">个人简介:</label>\r\n        <textarea id=\"update-introduction\" v-model=\"updateChaperoneData.introduction\"></textarea>\r\n        <button type=\"submit\">修改陪诊人员信息</button>\r\n      </form>\r\n\r\n      <h3>陪诊人员列表</h3>\r\n      <button @click=\"fetchChaperoneList\">刷新陪诊人员列表</button>\r\n      <ul>\r\n        <li v-for=\"chaperone in chaperoneList\" :key=\"chaperone.id\">\r\n          ID: {{ chaperone.id }}, 姓名: {{ chaperone.name }}, 性别: {{ chaperone.gender === 1 ? '男' : '女' }}, 手机: {{ chaperone.phone }}, 简介: {{ chaperone.introduction }}\r\n          <button @click=\"fetchChaperoneInfo(chaperone.id)\">查询详情</button>\r\n        </li>\r\n      </ul>\r\n\r\n      <h3>查询单个陪诊人员信息</h3>\r\n      <form @submit.prevent=\"fetchChaperoneInfoById\">\r\n        <label for=\"query-chaperone-id\">陪诊人员ID:</label>\r\n        <input type=\"number\" id=\"query-chaperone-id\" v-model=\"queryChaperoneId\" required>\r\n        <button type=\"submit\">查询</button>\r\n      </form>\r\n      <div v-if=\"queriedChaperoneInfo\">\r\n        <h4>查询结果:</h4>\r\n        <p>ID: {{ queriedChaperoneInfo.id }}</p>\r\n        <p>姓名: {{ queriedChaperoneInfo.name }}</p>\r\n        <p>性别: {{ queriedChaperoneInfo.gender === 1 ? '男' : '女' }}</p>\r\n        <p>手机: {{ queriedChaperoneInfo.phone }}</p>\r\n        <p>简介: {{ queriedChaperoneInfo.introduction }}</p>\r\n      </div>\r\n    </section>\r\n\r\n    <AdminServicePublishing />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport AServicePublishing from './AservePublishing.vue'; \r\nimport config from '@/utils/config';\r\n\r\n\r\n// 陪诊人员管理\r\nconst newChaperone = ref({\r\n  name: '',\r\n  gender: null,\r\n  phone: '',\r\n  introduction: ''\r\n});\r\nconst deleteChaperoneId = ref(null);\r\nconst updateChaperoneData = ref({\r\n  id: null,\r\n  name: '',\r\n  gender: null,\r\n  phone: '',\r\n  introduction: ''\r\n});\r\nconst chaperoneList = ref([]);\r\nconst queryChaperoneId = ref(null);\r\nconst queriedChaperoneInfo = ref(null);\r\n\r\n// 后端API路径\r\n// 使用全局配置的API地址\r\nconst BASE_URL = config.API_BASE_URL;\r\nconst CHAPERONE_PATH = '/services/chaperon';\r\nconst CHAPERONE_PATH_ALL='/services/chaperon/all';\r\n\r\n// Helper function: Handle Fetch response\r\nconst handleResponse = async (response) => {\r\n  if (!response.ok) {\r\n    const errorData = await response.json();\r\n    throw new Error(errorData.msg || '请求失败');\r\n  }\r\n  return response.json();\r\n};\r\n\r\n// 5.1 Add Chaperone\r\nconst addChaperone = async () => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}${CHAPERONE_PATH}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(newChaperone.value)\r\n    });\r\n    const data = await handleResponse(response);\r\n    if (data.code === 1) {\r\n      alert('新增陪诊人员成功！');\r\n      newChaperone.value = { name: '', gender: null, phone: '', introduction: '' };\r\n      fetchChaperoneList(); // Refresh list\r\n    } else {\r\n      alert(`新增失败: ${data.msg}`);\r\n    }\r\n  } catch (error) {\r\n    console.error('新增陪诊人员出错:', error);\r\n    alert(`新增陪诊人员失败: ${error.message}`);\r\n  }\r\n};\r\n\r\n// 5.2 Delete Chaperone\r\nconst deleteChaperone = async () => {\r\n  if (!deleteChaperoneId.value) {\r\n    alert('请输入要删除的陪诊人员ID');\r\n    return;\r\n  }\r\n  try {\r\n    const response = await fetch(`${BASE_URL}${CHAPERONE_PATH}?id=${deleteChaperoneId.value}`, {\r\n      method: 'DELETE',\r\n    });\r\n    const data = await handleResponse(response);\r\n    if (data.code === 1) {\r\n      alert('删除陪诊人员成功！');\r\n      deleteChaperoneId.value = null;\r\n      fetchChaperoneList(); // Refresh list\r\n    } else {\r\n      alert(`删除失败: ${data.msg}`);\r\n    }\r\n  } catch (error) {\r\n    console.error('删除陪诊人员出错:', error);\r\n    alert(`删除陪诊人员失败: ${error.message}`);\r\n  }\r\n};\r\n\r\n// 5.3 Update Chaperone Information\r\nconst updateChaperone = async () => {\r\n  if (!updateChaperoneData.value.id) {\r\n    alert('请输入要修改的陪诊人员ID');\r\n    return;\r\n  }\r\n  try {\r\n    const payload = {};\r\n    for (const key in updateChaperoneData.value) {\r\n      if (key !== 'id' && updateChaperoneData.value[key] !== null && updateChaperoneData.value[key] !== '') {\r\n        payload[key] = updateChaperoneData.value[key];\r\n      }\r\n    }\r\n\r\n    const response = await fetch(`${BASE_URL}${CHAPERONE_PATH}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ id: updateChaperoneData.value.id, ...payload })\r\n    });\r\n    const data = await handleResponse(response);\r\n    if (data.code === 1) {\r\n      alert('修改陪诊人员信息成功！');\r\n      updateChaperoneData.value = { id: null, name: '', gender: null, phone: '', introduction: '' };\r\n      fetchChaperoneList(); // Refresh list\r\n    } else {\r\n      alert(`修改失败: ${data.msg}`);\r\n    }\r\n  } catch (error) {\r\n    console.error('修改陪诊人员信息出错:', error);\r\n    alert(`修改陪诊人员信息失败: ${error.message}`);\r\n  }\r\n};\r\n\r\n// 5.4 Query Chaperone List\r\nconst fetchChaperoneList = async () => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}${CHAPERONE_PATH_ALL}`, {\r\n      method: 'GET',\r\n    });\r\n    const data = await handleResponse(response);\r\n    if (data.code === 1) {\r\n      chaperoneList.value = data.data.rows;\r\n    } else {\r\n      alert(`获取陪诊人员列表失败: ${data.msg}`);\r\n      chaperoneList.value = [];\r\n    }\r\n  } catch (error) {\r\n    console.error('获取陪诊人员列表出错:', error);\r\n    alert(`获取陪诊人员列表失败: ${error.message}`);\r\n    chaperoneList.value = [];\r\n  }\r\n};\r\n\r\n// 5.5 Query Chaperone Information (by ID)\r\nconst fetchChaperoneInfo = async (id) => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}${CHAPERONE_PATH}?id=${id}`, {\r\n      method: 'GET',\r\n    });\r\n    const data = await handleResponse(response);\r\n    if (data.code === 1) {\r\n      queriedChaperoneInfo.value = data.data;\r\n    } else {\r\n      alert(`查询陪诊人员信息失败: ${data.msg}`);\r\n      queriedChaperoneInfo.value = null;\r\n    }\r\n  } catch (error) {\r\n    console.error('查询陪诊人员信息出错:', error);\r\n    alert(`查询陪诊人员信息失败: ${error.message}`);\r\n    queriedChaperoneInfo.value = null;\r\n  }\r\n};\r\n\r\nconst fetchChaperoneInfoById = () => {\r\n  if (queryChaperoneId.value) {\r\n    fetchChaperoneInfo(queryChaperoneId.value);\r\n  } else {\r\n    alert('请输入要查询的陪诊人员ID');\r\n  }\r\n};\r\n\r\n// Automatically fetch chaperone list on component mount\r\nonMounted(() => {\r\n  fetchChaperoneList();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.admin-chaperone-service {\r\n  padding: 20px;\r\n  max-width: 900px;\r\n  margin: 0 auto;\r\n  font-family: Arial, sans-serif;\r\n}\r\n\r\nh1, h2, h3 {\r\n  color: #333;\r\n}\r\n\r\nsection {\r\n  background-color: #f9f9f9;\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  margin-bottom: 30px;\r\n}\r\n\r\nform {\r\n  display: grid;\r\n  grid-template-columns: 120px 1fr;\r\n  gap: 10px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\nlabel {\r\n  text-align: right;\r\n  padding-right: 10px;\r\n  line-height: 32px;\r\n}\r\n\r\ninput[type=\"text\"],\r\ninput[type=\"number\"],\r\ninput[type=\"date\"],\r\ntextarea,\r\nselect {\r\n  width: calc(100% - 20px);\r\n  padding: 8px 10px;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\nbutton {\r\n  grid-column: 2 / 3;\r\n  width: auto;\r\n  padding: 10px 15px;\r\n  background-color: #007bff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  margin-top: 10px;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\n\r\nli {\r\n  background-color: #fff;\r\n  border: 1px solid #eee;\r\n  padding: 10px;\r\n  margin-bottom: 8px;\r\n  border-radius: 5px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\nli button {\r\n  margin-left: 15px;\r\n  padding: 5px 10px;\r\n  font-size: 14px;\r\n}\r\n\r\n.chaperone-management ul li button {\r\n  background-color: #28a745;\r\n}\r\n.chaperone-management ul li button:hover {\r\n  background-color: #218838;\r\n}\r\n</style>","import script from \"./Aserve.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Aserve.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Aserve.vue?vue&type=style&index=0&id=624c714e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-624c714e\"]])\n\nexport default __exports__","// 全局配置文件\nconst config = {\n  // 后端API基础地址\n  API_BASE_URL: 'https://wanghua935.dpdns.org:8080'\n};\n\nexport default config;"],"names":["SERVICES_PATH","SERVICES_PATH_ALL","publishServiceData","ref","chaperonId","serviceDate","adminServiceList","BASE_URL","config","API_BASE_URL","handleResponse","async","response","ok","errorData","json","Error","msg","publishService","fetch","method","headers","body","JSON","stringify","value","data","code","alert","fetchAdminServiceList","error","console","message","rows","unpublishService","confirm","serviceId","onMounted","__exports__","CHAPERONE_PATH","CHAPERONE_PATH_ALL","newChaperone","name","gender","phone","introduction","deleteChaperoneId","updateChaperoneData","id","chaperoneList","queryChaperoneId","queriedChaperoneInfo","addChaperone","fetchChaperoneList","deleteChaperone","updateChaperone","payload","key","fetchChaperoneInfo","fetchChaperoneInfoById"],"sourceRoot":""}