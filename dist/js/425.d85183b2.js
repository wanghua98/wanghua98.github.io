"use strict";(self["webpackChunkvue_demo2"]=self["webpackChunkvue_demo2"]||[]).push([[83,425],{3083:function(e,a,l){l.r(a),l.d(a,{default:function(){return k}});var n=l(6768),t=l(5130),o=l(4232),u=l(144),r=l(9871);const d={class:"service-publishing"},i=["onClick"],c="/services",s="/services/all";var p={__name:"AservePublishing",setup(e){const a=(0,u.KR)({chaperonId:null,serviceDate:""}),l=(0,u.KR)([]),p=r.A.API_BASE_URL,v=async e=>{if(!e.ok){const a=await e.json();throw new Error(a.msg||"请求失败")}return e.json()},m=async()=>{try{const e=await fetch(`${p}${c}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.value)}),l=await v(e);1===l.code?(alert("发布陪诊服务成功！"),a.value={chaperonId:null,serviceDate:""},k()):alert(`发布失败: ${l.msg}`)}catch(e){console.error("发布陪诊服务出错:",e),alert(`发布陪诊服务失败: ${e.message}`)}},k=async()=>{try{const e=await fetch(`${p}${s}`,{method:"GET"}),a=await v(e);1===a.code?l.value=a.data.rows:(alert(`获取已发布陪诊列表失败: ${a.msg}`),l.value=[])}catch(e){console.error("获取已发布陪诊列表出错:",e),alert(`获取已发布陪诊列表失败: ${e.message}`),l.value=[]}},h=async e=>{if(confirm(`确定要下架ID为 ${e} 的陪诊服务吗？`))try{const a=await fetch(`${p}${c}?id=${e}`,{method:"DELETE"}),l=await v(a);1===l.code?(alert("下架陪诊服务成功！"),k()):alert(`下架失败: ${l.msg}`)}catch(a){console.error("下架陪诊服务出错:",a),alert(`下架陪诊服务失败: ${a.message}`)}};return(0,n.sV)((()=>{k()})),(e,u)=>((0,n.uX)(),(0,n.CE)("section",d,[u[5]||(u[5]=(0,n.Lk)("h2",null,"陪诊服务发布与管理",-1)),u[6]||(u[6]=(0,n.Lk)("h3",null,"发布陪诊服务",-1)),(0,n.Lk)("form",{onSubmit:(0,t.D$)(m,["prevent"])},[u[2]||(u[2]=(0,n.Lk)("label",{for:"publish-chaperone-id"},"陪诊人员ID:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",id:"publish-chaperone-id","onUpdate:modelValue":u[0]||(u[0]=e=>a.value.chaperonId=e),required:""},null,512),[[t.Jo,a.value.chaperonId]]),u[3]||(u[3]=(0,n.Lk)("label",{for:"publish-date"},"服务日期:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date",id:"publish-date","onUpdate:modelValue":u[1]||(u[1]=e=>a.value.serviceDate=e),required:""},null,512),[[t.Jo,a.value.serviceDate]]),u[4]||(u[4]=(0,n.Lk)("button",{type:"submit"},"发布服务",-1))],32),u[7]||(u[7]=(0,n.Lk)("h3",null,"已发布陪诊服务列表",-1)),(0,n.Lk)("button",{onClick:k},"刷新已发布列表"),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.value,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id},[(0,n.eW)(" ID: "+(0,o.v_)(e.id)+", 陪诊人员姓名: "+(0,o.v_)(e.name)+", 手机: "+(0,o.v_)(e.phone)+", 服务日期: "+(0,o.v_)(e.date)+" ",1),(0,n.Lk)("button",{onClick:a=>h(e.id)},"下架",8,i)])))),128))])]))}},v=l(1241);const m=(0,v.A)(p,[["__scopeId","data-v-dc3add2a"]]);var k=m},8425:function(e,a,l){l.r(a),l.d(a,{default:function(){return L}});var n=l(6768),t=l(5130),o=l(4232),u=l(144),r=(l(3083),l(9871));const d={class:"admin-chaperone-service"},i={class:"chaperone-management"},c=["onClick"],s={key:0},p="/services/chaperon",v="/services/chaperon/all";var m={__name:"Aserve",setup(e){const a=(0,u.KR)({name:"",gender:null,phone:"",introduction:""}),l=(0,u.KR)(null),m=(0,u.KR)({id:null,name:"",gender:null,phone:"",introduction:""}),k=(0,u.KR)([]),h=(0,u.KR)(null),L=(0,u.KR)(null),b=r.A.API_BASE_URL,y=async e=>{if(!e.ok){const a=await e.json();throw new Error(a.msg||"请求失败")}return e.json()},f=async()=>{try{const e=await fetch(`${b}${p}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.value)}),l=await y(e);1===l.code?(alert("新增陪诊人员成功！"),a.value={name:"",gender:null,phone:"",introduction:""},_()):alert(`新增失败: ${l.msg}`)}catch(e){console.error("新增陪诊人员出错:",e),alert(`新增陪诊人员失败: ${e.message}`)}},$=async()=>{if(l.value)try{const e=await fetch(`${b}${p}?id=${l.value}`,{method:"DELETE"}),a=await y(e);1===a.code?(alert("删除陪诊人员成功！"),l.value=null,_()):alert(`删除失败: ${a.msg}`)}catch(e){console.error("删除陪诊人员出错:",e),alert(`删除陪诊人员失败: ${e.message}`)}else alert("请输入要删除的陪诊人员ID")},g=async()=>{if(m.value.id)try{const e={};for(const n in m.value)"id"!==n&&null!==m.value[n]&&""!==m.value[n]&&(e[n]=m.value[n]);const a=await fetch(`${b}${p}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:m.value.id,...e})}),l=await y(a);1===l.code?(alert("修改陪诊人员信息成功！"),m.value={id:null,name:"",gender:null,phone:"",introduction:""},_()):alert(`修改失败: ${l.msg}`)}catch(e){console.error("修改陪诊人员信息出错:",e),alert(`修改陪诊人员信息失败: ${e.message}`)}else alert("请输入要修改的陪诊人员ID")},_=async()=>{try{const e=await fetch(`${b}${v}`,{method:"GET"}),a=await y(e);1===a.code?k.value=a.data.rows:(alert(`获取陪诊人员列表失败: ${a.msg}`),k.value=[])}catch(e){console.error("获取陪诊人员列表出错:",e),alert(`获取陪诊人员列表失败: ${e.message}`),k.value=[]}},w=async e=>{try{const a=await fetch(`${b}${p}?id=${e}`,{method:"GET"}),l=await y(a);1===l.code?L.value=l.data:(alert(`查询陪诊人员信息失败: ${l.msg}`),L.value=null)}catch(a){console.error("查询陪诊人员信息出错:",a),alert(`查询陪诊人员信息失败: ${a.message}`),L.value=null}},D=()=>{h.value?w(h.value):alert("请输入要查询的陪诊人员ID")};return(0,n.sV)((()=>{_()})),(e,u)=>{const r=(0,n.g2)("AdminServicePublishing");return(0,n.uX)(),(0,n.CE)("div",d,[u[35]||(u[35]=(0,n.Lk)("h1",null,"陪诊服务发布",-1)),(0,n.Lk)("section",i,[u[29]||(u[29]=(0,n.Lk)("h2",null,"陪诊人员管理",-1)),u[30]||(u[30]=(0,n.Lk)("h3",null,"新增陪诊人员",-1)),(0,n.Lk)("form",{onSubmit:(0,t.D$)(f,["prevent"])},[u[12]||(u[12]=(0,n.Lk)("label",{for:"add-name"},"姓名:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"add-name","onUpdate:modelValue":u[0]||(u[0]=e=>a.value.name=e),required:""},null,512),[[t.Jo,a.value.name]]),u[13]||(u[13]=(0,n.Lk)("label",{for:"add-gender"},"性别:",-1)),(0,n.bo)((0,n.Lk)("select",{id:"add-gender","onUpdate:modelValue":u[1]||(u[1]=e=>a.value.gender=e),required:""},u[11]||(u[11]=[(0,n.Lk)("option",{value:null,disabled:""},null,-1),(0,n.Lk)("option",{value:1},"男",-1),(0,n.Lk)("option",{value:2},"女",-1)]),512),[[t.u1,a.value.gender]]),u[14]||(u[14]=(0,n.Lk)("label",{for:"add-phone"},"手机号:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"add-phone","onUpdate:modelValue":u[2]||(u[2]=e=>a.value.phone=e),required:""},null,512),[[t.Jo,a.value.phone]]),u[15]||(u[15]=(0,n.Lk)("label",{for:"add-introduction"},"个人简介:",-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"add-introduction","onUpdate:modelValue":u[3]||(u[3]=e=>a.value.introduction=e),required:""},null,512),[[t.Jo,a.value.introduction]]),u[16]||(u[16]=(0,n.Lk)("button",{type:"submit"},"添加陪诊人员",-1))],32),u[31]||(u[31]=(0,n.Lk)("h3",null,"删除陪诊人员",-1)),(0,n.Lk)("form",{onSubmit:(0,t.D$)($,["prevent"])},[u[17]||(u[17]=(0,n.Lk)("label",{for:"delete-id"},"陪诊人员ID:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",id:"delete-id","onUpdate:modelValue":u[4]||(u[4]=e=>l.value=e),required:""},null,512),[[t.Jo,l.value]]),u[18]||(u[18]=(0,n.Lk)("button",{type:"submit"},"删除陪诊人员",-1))],32),u[32]||(u[32]=(0,n.Lk)("h3",null,"修改陪诊人员信息",-1)),(0,n.Lk)("form",{onSubmit:(0,t.D$)(g,["prevent"])},[u[20]||(u[20]=(0,n.Lk)("label",{for:"update-id"},"陪诊人员ID:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",id:"update-id","onUpdate:modelValue":u[5]||(u[5]=e=>m.value.id=e),required:""},null,512),[[t.Jo,m.value.id]]),u[21]||(u[21]=(0,n.Lk)("label",{for:"update-name"},"姓名:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"update-name","onUpdate:modelValue":u[6]||(u[6]=e=>m.value.name=e)},null,512),[[t.Jo,m.value.name]]),u[22]||(u[22]=(0,n.Lk)("label",{for:"update-gender"},"性别:",-1)),(0,n.bo)((0,n.Lk)("select",{id:"update-gender","onUpdate:modelValue":u[7]||(u[7]=e=>m.value.gender=e)},u[19]||(u[19]=[(0,n.Lk)("option",{value:null},null,-1),(0,n.Lk)("option",{value:1},"男",-1),(0,n.Lk)("option",{value:2},"女",-1)]),512),[[t.u1,m.value.gender]]),u[23]||(u[23]=(0,n.Lk)("label",{for:"update-phone"},"手机号:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"update-phone","onUpdate:modelValue":u[8]||(u[8]=e=>m.value.phone=e)},null,512),[[t.Jo,m.value.phone]]),u[24]||(u[24]=(0,n.Lk)("label",{for:"update-introduction"},"个人简介:",-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"update-introduction","onUpdate:modelValue":u[9]||(u[9]=e=>m.value.introduction=e)},null,512),[[t.Jo,m.value.introduction]]),u[25]||(u[25]=(0,n.Lk)("button",{type:"submit"},"修改陪诊人员信息",-1))],32),u[33]||(u[33]=(0,n.Lk)("h3",null,"陪诊人员列表",-1)),(0,n.Lk)("button",{onClick:_},"刷新陪诊人员列表"),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(k.value,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.id},[(0,n.eW)(" ID: "+(0,o.v_)(e.id)+", 姓名: "+(0,o.v_)(e.name)+", 性别: "+(0,o.v_)(1===e.gender?"男":"女")+", 手机: "+(0,o.v_)(e.phone)+", 简介: "+(0,o.v_)(e.introduction)+" ",1),(0,n.Lk)("button",{onClick:a=>w(e.id)},"查询详情",8,c)])))),128))]),u[34]||(u[34]=(0,n.Lk)("h3",null,"查询单个陪诊人员信息",-1)),(0,n.Lk)("form",{onSubmit:(0,t.D$)(D,["prevent"])},[u[26]||(u[26]=(0,n.Lk)("label",{for:"query-chaperone-id"},"陪诊人员ID:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number",id:"query-chaperone-id","onUpdate:modelValue":u[10]||(u[10]=e=>h.value=e),required:""},null,512),[[t.Jo,h.value]]),u[27]||(u[27]=(0,n.Lk)("button",{type:"submit"},"查询",-1))],32),L.value?((0,n.uX)(),(0,n.CE)("div",s,[u[28]||(u[28]=(0,n.Lk)("h4",null,"查询结果:",-1)),(0,n.Lk)("p",null,"ID: "+(0,o.v_)(L.value.id),1),(0,n.Lk)("p",null,"姓名: "+(0,o.v_)(L.value.name),1),(0,n.Lk)("p",null,"性别: "+(0,o.v_)(1===L.value.gender?"男":"女"),1),(0,n.Lk)("p",null,"手机: "+(0,o.v_)(L.value.phone),1),(0,n.Lk)("p",null,"简介: "+(0,o.v_)(L.value.introduction),1)])):(0,n.Q3)("",!0)]),(0,n.bF)(r)])}}},k=l(1241);const h=(0,k.A)(m,[["__scopeId","data-v-624c714e"]]);var L=h},9871:function(e,a){const l={API_BASE_URL:"http://14.103.237.241:8080"};a.A=l}}]);
//# sourceMappingURL=425.d85183b2.js.map