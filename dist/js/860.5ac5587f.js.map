{"version":3,"file":"js/860.5ac5587f.js","mappings":"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","sources":["webpack://vue-demo2/./src/views/Elder/Elder.vue","webpack://vue-demo2/./src/views/Elder/Elder.vue?fdb4","webpack://vue-demo2/./src/utils/config.js"],"sourcesContent":["<template>\r\n  <div class=\"safety-monitoring\" role=\"alert\" aria-live=\"assertive\">\r\n    <div class=\"safety-status\" aria-label=\"安全监测系统运行中\">\r\n      <div class=\"status-indicator\"></div>\r\n      <span id=\"safetyText\">安全监测运行正常</span>\r\n    </div>\r\n    <div class=\"emergency-controls\">\r\n      <button id=\"emergencyBtn\" class=\"elderly-friendly\"\r\n              style=\"background: var(--emergency); color: white;\">\r\n        <i class=\"material-icons\">emergency</i> 紧急呼叫\r\n      </button>\r\n      <button class=\"elderly-friendly\" style=\"background: var(--accent); color: white;\">\r\n        <i class=\"material-icons\">settings</i> 安全设置\r\n      </button>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"dashboard\">\r\n    <nav class=\"sidebar\">\r\n      <div class=\"user-profile\">\r\n        <h2>张大爷，下午好！</h2>\r\n        <p>今日健康评分：<span style=\"color: var(--secondary);\">92</span></p>\r\n        <p>连续签到：<span style=\"color: var(--accent);\">{{ continuousDays }}</span> 天</p>\r\n      </div>\r\n\r\n      <div class=\"nav-menu\" style=\"display: grid; gap: 12px; margin-top: 30px;\">\r\n        <button class=\"elderly-friendly\" style=\"background: var(--primary); color: white;\">\r\n          <i class=\"material-icons\">home</i> 首页\r\n        </button>\r\n        <button class=\"elderly-friendly\" @click=\"goToAEldserve\">\r\n          <i class=\"material-icons\">medical_services</i> 陪诊服务\r\n        </button>\r\n        <button class=\"elderly-friendly\">\r\n          <i class=\"material-icons\">groups</i> 养老社交\r\n        </button>\r\n        <button class=\"elderly-friendly\">\r\n          <i class=\"material-icons\">store</i> 服务商城\r\n        </button>\r\n        <button class=\"elderly-friendly\" @click=\"goToElderHealthy\">\r\n          <i class=\"material-icons\">star</i> 健康管理\r\n        </button>\r\n        <button class=\"elderly-friendly\" @click=\"goToUserElder\">\r\n          <i class=\"material-icons\">person</i> 个人中心\r\n        </button>\r\n      </div>\r\n    </nav>\r\n\r\n    <main class=\"main-content\">\r\n      <div class=\"card check-in-card\">\r\n        <div class=\"check-in-header\">\r\n          <h2><i class=\"material-icons\">event_available</i> 每日签到</h2>\r\n          <div style=\"font-size: 18px;\">积分: <span id=\"points\">{{ userPoints }}</span></div>\r\n        </div>\r\n\r\n        <div class=\"check-in-days\">\r\n          <div class=\"check-in-day\" v-for=\"(day, index) in weekDays\" :key=\"index\">\r\n            <div :class=\"['day-circle',\r\n              {'today': index === currentDayIndex},\r\n              {'checked': day.checked},\r\n              {'just-checked': day.justChecked}\r\n            ]\">\r\n              {{ day.label }}\r\n            </div>\r\n            <small>{{ day.points }}</small>\r\n          </div>\r\n        </div>\r\n\r\n        <button class=\"check-in-button\" @click=\"handleCheckIn\" :disabled=\"hasCheckedInToday || isSigning\">\r\n          <div v-if=\"showCoin\" class=\"gold-coin\" :class=\"coinClass\">¥</div>\r\n          <i class=\"material-icons\">how_to_reg</i>\r\n          {{ hasCheckedInToday ? '已签到' : (isSigning ? '签到中...' : '签到') }}\r\n        </button>\r\n        <div v-if=\"signError\" style=\"color: var(--emergency); margin-top:10px; font-size:14px;\">\r\n          签到失败: {{ signError }}\r\n        </div>\r\n        <div v-if=\"signSuccess\" style=\"color: var(--secondary); margin-top:10px; font-size:14px;\">\r\n          签到成功! +{{ earnedPoints }}积分 (连续签到{{ continuousDays }}天)\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"card health-dashboard\">\r\n        <div class=\"health-item\">\r\n          <h3><i class=\"material-icons\">favorite</i> 心率</h3>\r\n          <div class=\"value\">78 <small>bpm</small></div>\r\n        </div>\r\n        <div class=\"health-item\">\r\n          <h3><i class=\"material-icons\">bloodtype</i> 血压</h3>\r\n          <div class=\"value\">122/78 <small>mmHg</small></div>\r\n        </div>\r\n        <div class=\"health-item\">\r\n          <h3><i class=\"material-icons\">directions_walk</i> 步数</h3>\r\n          <div class=\"value\">2,345 <small>步</small></div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"card\">\r\n        <h2><i class=\"material-icons\">store</i> 服务商城</h2>\r\n\r\n        <div class=\"service-category\">\r\n          <h3><i class=\"material-icons\">cleaning_services</i> 居家服务</h3>\r\n          <div class=\"service-list\">\r\n            <div class=\"service-item\">\r\n              <h4><i class=\"material-icons\">clean_hands</i> 专业保洁</h4>\r\n              <p>2小时深度清洁，含厨房卫生间</p>\r\n              <div class=\"service-price\">¥98/次</div>\r\n              <button class=\"service-button\">立即预约</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div style=\"text-align: center; margin-top: 15px;\">\r\n          <button class=\"elderly-friendly\" style=\"width: 100%;\">\r\n            <i class=\"material-icons\">search</i> 查看更多服务\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"card\">\r\n        <h2><i class=\"material-icons\">medical_services</i> 快速预约</h2>\r\n        <div class=\"quick-services\">\r\n          <button class=\"elderly-friendly\" style=\"background: var(--secondary);\">\r\n            <i class=\"material-icons\">calendar_today</i> 预约挂号\r\n          </button>\r\n          <button class=\"elderly-friendly\" style=\"background: var(--accent);\">\r\n            <i class=\"material-icons\">medication</i> 用药提醒\r\n          </button>\r\n          <button class=\"elderly-friendly\">\r\n            <i class=\"material-icons\">history</i> 就诊记录\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"card\">\r\n        <h2><i class=\"material-icons\">groups</i> 最近聊天</h2>\r\n        <div class=\"chat-history\">\r\n          <div class=\"chat-message incoming\">\r\n            <div class=\"message-info\">\r\n              <img src=\"avatar1.jpg\" class=\"message-avatar\" alt=\"李阿姨\">\r\n              <strong>李阿姨</strong>\r\n              <span style=\"margin-left:auto; font-size:0.8em;\">10:30</span>\r\n            </div>\r\n            <p>大家下午的书法活动别忘了带毛笔啊！</p>\r\n          </div>\r\n\r\n          <div class=\"chat-message outgoing\">\r\n            <div class=\"message-info\">\r\n              <strong>我</strong>\r\n              <span style=\"margin-left:auto; font-size:0.8em;\">10:35</span>\r\n            </div>\r\n            <p>好的，我已经准备好了，需要我带点宣纸吗？</p>\r\n          </div>\r\n\r\n          <div class=\"chat-message incoming\">\r\n            <div class=\"message-info\">\r\n              <img src=\"avatar2.jpg\" class=\"message-avatar\" alt=\"王大爷\">\r\n              <strong>王大爷</strong>\r\n              <span style=\"margin-left:auto; font-size:0.8em;\">11:20</span>\r\n            </div>\r\n            <p>明天上午的健康讲座改到9点半了，别记错时间</p>\r\n          </div>\r\n\r\n          <div class=\"chat-message incoming\">\r\n            <div class=\"message-info\">\r\n              <img src=\"avatar3.jpg\" class=\"message-avatar\" alt=\"社区小张\">\r\n              <strong>社区小张</strong>\r\n              <span style=\"margin-left:auto; font-size:0.8em;\">13:45</span>\r\n            </div>\r\n            <p>张叔叔，您预约的体检报告已经出来了，有空可以来社区中心领取</p>\r\n          </div>\r\n        </div>\r\n        <button class=\"elderly-friendly\" style=\"width:100%;\">\r\n          <i class=\"material-icons\">chat</i> 进入聊天\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"card ai-assistant\">\r\n        <h2><i class=\"material-icons\">smart_toy</i> 健康助手</h2>\r\n        <div class=\"chat-container\">\r\n          <div class=\"message ai-message\">\r\n            您好！我是您的健康助手，可以：\r\n            <ul>\r\n              <li>查询健康数据</li>\r\n              <li>提醒用药时间</li>\r\n              <li>解答健康问题</li>\r\n            </ul>\r\n          </div>\r\n          <div class=\"input-area\">\r\n            <input type=\"text\" class=\"elderly-friendly\" style=\"flex:1;\"\r\n                   placeholder=\"说点什么...\" id=\"aiInput\">\r\n            <button class=\"elderly-friendly\" style=\"background: var(--primary);\" id=\"sendBtn\">\r\n              <i class=\"material-icons\">send</i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"card\">\r\n        <h2><i class=\"material-icons\">event</i> 今日活动</h2>\r\n        <div class=\"activity-list\">\r\n          <div class=\"activity-item\" style=\"display:flex; align-items:center; padding:15px; border-bottom:1px solid #eee;\">\r\n            <div style=\"flex:1;\">\r\n              <h3>书法兴趣小组</h3>\r\n              <p><i class=\"material-icons\">schedule</i> 09:00-11:00</p>\r\n            </div>\r\n            <button class=\"elderly-friendly\" style=\"background: var(--accent);\">\r\n              参加\r\n            </button>\r\n          </div>\r\n          <div class=\"activity-item\" style=\"display:flex; align-items:center; padding:15px;\">\r\n            <div style=\"flex:1;\">\r\n              <h3>社区健康讲座</h3>\r\n              <p><i class=\"material-icons\">schedule</i> 14:00-16:00</p>\r\n            </div>\r\n            <button class=\"elderly-friendly\" style=\"background: var(--accent);\">\r\n              参加\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <button class=\"elderly-friendly\" style=\"margin-top:15px; width:100%;\">\r\n          <i class=\"material-icons\">add</i> 发起活动\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"card\">\r\n        <h2><i class=\"material-icons\">star</i> 服务评价</h2>\r\n        <div style=\"display: flex; gap:10px; margin-bottom:15px;\">\r\n          <div style=\"flex:1; text-align:center;\">\r\n            <p style=\"font-size:24px;\">4.8</p>\r\n            <div style=\"color:var(--accent);\">\r\n              <i class=\"material-icons\">star</i>\r\n              <i class=\"material-icons\">star</i>\r\n              <i class=\"material-icons\">star</i>\r\n              <i class=\"material-icons\">star</i>\r\n              <i class=\"material-icons\">star_half</i>\r\n            </div>\r\n            <p>综合评分</p>\r\n          </div>\r\n          <div style=\"flex:2;\">\r\n            <div style=\"display:flex; align-items:center; margin-bottom:5px;\">\r\n              <span style=\"width:80px;\">王医生：</span>\r\n              <div style=\"flex:1; background:#eee; height:20px; border-radius:10px;\">\r\n                <div style=\"width:90%; background:var(--accent); height:100%; border-radius:10px;\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <button class=\"elderly-friendly\" style=\"width:100%;\">\r\n          <i class=\"material-icons\">edit</i> 我要评价\r\n        </button>\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport config from '@/utils/config';\r\n\r\n// 辅助函数：获取本周的起始日期（周一）和结束日期（周日）\r\nfunction getWeekRange(date) {\r\n  const day = date.getDay();\r\n  const diff = date.getDate() - day + (day === 0 ? -6 : 1);\r\n  const monday = new Date(date.setDate(diff));\r\n  const sunday = new Date(date.setDate(diff + 6));\r\n\r\n  return {\r\n    start: monday.toISOString().split('T')[0],\r\n    end: sunday.toISOString().split('T')[0]\r\n  };\r\n}\r\n\r\n// 日期格式化函数（统一为YYYY-MM-DD格式）\r\nfunction formatDate(dateStr) {\r\n  try {\r\n    const date = new Date(dateStr);\r\n    return isNaN(date.getTime()) ? null : date.toISOString().split('T')[0];\r\n  } catch (e) {\r\n    console.warn('日期格式错误:', dateStr);\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      userPoints: 0,\r\n      continuousDays: 0,\r\n      weekDays: [\r\n        { label: '一', points: '', checked: false, justChecked: false },\r\n        { label: '二', points: '', checked: false, justChecked: false },\r\n        { label: '三', points: '', checked: false, justChecked: false },\r\n        { label: '四', points: '', checked: false, justChecked: false },\r\n        { label: '五', points: '', checked: false, justChecked: false },\r\n        { label: '六', points: '', checked: false, justChecked: false },\r\n        { label: '日', points: '', checked: false, justChecked: false }\r\n      ],\r\n      currentDayIndex: (new Date().getDay() + 6) % 7, // 获取当前星期几 (0-6, 周一为0)\r\n      showCoin: false,\r\n      coinClass: '',\r\n      hasCheckedInToday: false, // 标记今天是否已签到\r\n\r\n      signError: '',\r\n      signSuccess: false,\r\n      earnedPoints: 0,\r\n      isSigning: false, // 标记签到请求是否正在进行\r\n      signRecords: [], // 用于存储从后端获取的签到记录\r\n      initialized: false // 标记数据是否已初始化\r\n    };\r\n  },\r\n  created() {\r\n    // 组件创建时初始化用户数据（积分和签到记录）\r\n    this.initUserData();\r\n  },\r\n  methods: {\r\n    goToUserElder() {\r\n      this.$router.push('/elder/user/me');\r\n    },\r\n    goToAEldserve(){\r\n\t  this.$router.push('/elder/AEldserve');\r\n\t},\r\n\tgoToElderHealthy(){\r\n\t  this.$router.push('/elder/Healthy');\r\n\t},\r\n    /**\r\n     * 初始化用户数据，包括积分和签到记录。\r\n     * 只会在组件创建时执行一次，确保数据加载完成。\r\n     */\r\n    async initUserData() {\r\n      // 如果已经初始化过，则不再重复执行\r\n      if (this.initialized) return;\r\n\r\n      try {\r\n        // 并行获取积分和签到记录，提高效率\r\n        await Promise.all([this.fetchUserPoints(), this.fetchSignRecords()]);\r\n        // 根据获取到的签到记录更新日历显示状态\r\n        this.updateCalendarStatus();\r\n        this.initialized = true; // 标记初始化完成\r\n      } catch (error) {\r\n        console.error('初始化用户数据出错:', error);\r\n        this.signError = error.message || '初始化数据失败';\r\n        // 错误信息显示5秒后消失\r\n        setTimeout(() => { this.signError = ''; }, 5000);\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 从后端获取用户总积分和连续签到天数。\r\n     */\r\n    async fetchUserPoints() {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) throw new Error('用户未登录');\r\n\r\n        // According to documentation: 4.2.1 基本信息 - 请求路径: /sign/points\r\n        // 使用全局配置的API地址\r\n        const response = await fetch(`${config.API_BASE_URL}/sign/points`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'token': token // Ensure token is in headers as per documentation\r\n          }\r\n        });\r\n\r\n        if (!response.ok) throw new Error(`HTTP错误! 状态码: ${response.status}`);\r\n\r\n        const data = await response.json();\r\n        console.log('积分数据:', data);\r\n\r\n        // According to documentation: 4.2.3 响应数据 - data.points (总积分), data.continuousDays (连续签到时间)\r\n        if (data.code === 1) {\r\n          this.userPoints = data.data.points || 0; // Corrected to data.points\r\n          this.continuousDays = data.data.continuousDays || 0; // Corrected to data.continuousDays\r\n        } else {\r\n          // 如果后端返回错误码，抛出错误信息\r\n          throw new Error(data.msg || '获取积分失败');\r\n        }\r\n      } catch (error) {\r\n        console.error('获取积分出错:', error);\r\n        // 将错误抛出，由initUserData统一处理\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 从后端获取用户的签到记录。\r\n     */\r\n    async fetchSignRecords() {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) throw new Error('用户未登录');\r\n\r\n        // According to documentation: 4.3.1 基本信息 - 请求路径: /sign/records\r\n        // 使用全局配置的API地址\r\n        const response = await fetch(`${config.API_BASE_URL}/sign/records`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'token': token // Ensure token is in headers as per documentation\r\n          }\r\n        });\r\n\r\n        if (!response.ok) throw new Error(`HTTP错误! 状态码: ${response.status}`);\r\n\r\n        const data = await response.json();\r\n        console.log('原始签到记录:', data);\r\n\r\n        // According to actual API response: data.rows contains the records array\r\n        if (data.code === 1) {\r\n          // Check if data.data and data.data.rows exist and is an array\r\n          if (data.data && data.data.rows && Array.isArray(data.data.rows)) {\r\n            // Format sign-in records, retaining only date and points information\r\n            this.signRecords = data.data.rows.map(record => ({\r\n              date: formatDate(record.date), // Use formatDate to ensure YYYY-MM-DD\r\n              rewardPoints: record.rewardPoints\r\n            }));\r\n          } else {\r\n            // If rows is not available, initialize as empty array\r\n            console.warn('签到记录数据格式异常:', data);\r\n            this.signRecords = [];\r\n          }\r\n        } else {\r\n          // If the backend returns an error code, throw the error message\r\n          throw new Error(data.msg || '获取签到记录失败');\r\n        }\r\n      } catch (error) {\r\n        console.error('获取签到记录出错:', error);\r\n        // Throw the error for initUserData to handle\r\n        throw error;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 根据当前签到记录更新日历显示状态（哪些天已签到）。\r\n     */\r\n    updateCalendarStatus() {\r\n      // Get current date object (local time zone), and standardize the time part for precise comparison\r\n      const today = new Date();\r\n      today.setHours(0, 0, 0, 0);\r\n\r\n      // Reset calendar status in preparation for recalculation\r\n      this.weekDays.forEach(day => {\r\n        day.checked = false;\r\n        day.points = '';\r\n        day.justChecked = false; // Reset \"just checked\" animation state\r\n      });\r\n\r\n      // Reset today's check-in status\r\n      this.hasCheckedInToday = false;\r\n\r\n      // Get the date range for the current week (Monday to Sunday)\r\n      const weekRange = getWeekRange(new Date());\r\n      const weekStart = new Date(weekRange.start);\r\n      const weekEnd = new Date(weekRange.end);\r\n      weekStart.setHours(0, 0, 0, 0);\r\n      weekEnd.setHours(0, 0, 0, 0);\r\n\r\n      // Filter check-in records for the current week\r\n      const thisWeekRecords = this.signRecords.filter(record => {\r\n        if (!record.date) return false; // Filter invalid dates\r\n\r\n        try {\r\n          const recordDate = new Date(record.date);\r\n          recordDate.setHours(0, 0, 0, 0); // Standardize time part\r\n          // Check if the record date is within the current week's range\r\n          return recordDate >= weekStart && recordDate <= weekEnd;\r\n        } catch (e) {\r\n          console.warn('Invalid date format:', record.date);\r\n          return false;\r\n        }\r\n      });\r\n\r\n      // Update calendar UI based on this week's check-in records\r\n      thisWeekRecords.forEach(record => {\r\n        try {\r\n          const recordDate = new Date(record.date);\r\n          recordDate.setHours(0, 0, 0, 0);\r\n          // Calculate the day of the week (0-6, Monday is 0)\r\n          const dayIndex = (recordDate.getDay() + 6) % 7;\r\n\r\n          this.weekDays[dayIndex].checked = true; // Mark as checked in\r\n          this.weekDays[dayIndex].points = `+${record.rewardPoints}`; // Display earned points\r\n\r\n          // If the record date is today, update today's check-in status\r\n          if (recordDate.getTime() === today.getTime()) {\r\n            this.hasCheckedInToday = true;\r\n          }\r\n        } catch (e) {\r\n          console.warn('Error processing check-in record:', record.date, e);\r\n        }\r\n      });\r\n\r\n      console.log('今日签到状态:', this.hasCheckedInToday, '本周签到记录:', thisWeekRecords);\r\n    },\r\n\r\n    /**\r\n     * 处理用户点击签到按钮的逻辑。\r\n     * 会检查是否已经签到或正在签到，防止重复操作。\r\n     */\r\n    async handleCheckIn() {\r\n      // If already checked in today or a sign-in request is in progress, return directly\r\n      if (this.hasCheckedInToday || this.isSigning) {\r\n        console.log('签到被阻止：', {\r\n          hasCheckedInToday: this.hasCheckedInToday,\r\n          isSigning: this.isSigning\r\n        });\r\n        return;\r\n      }\r\n\r\n      this.isSigning = true; // Set sign-in status to \"in progress\"\r\n      this.signError = ''; // Clear previous error messages\r\n      this.signSuccess = false; // Reset sign-in success status\r\n\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) throw new Error('用户未登录');\r\n\r\n        console.log('正在发送签到请求...');\r\n        // According to documentation: 4.1.1 基本信息 - 请求路径: /sign, 请求方式: GET\r\n        // 使用全局配置的API地址\r\n          const response = await fetch(`${config.API_BASE_URL}/sign`, {\r\n          method: 'GET',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'token': token // Ensure token is in headers as per documentation\r\n          }\r\n        });\r\n\r\n        if (!response.ok) throw new Error(`HTTP错误! 状态码: ${response.status}`);\r\n\r\n        const data = await response.json();\r\n        console.log('签到响应:', data);\r\n\r\n        // According to documentation: 4.1.3 响应数据 - data.points (本次签到获得积分), data.continuousDays (连续签到时间), data.allPoint (总积分)\r\n        if (data.code === 1) {\r\n          // Update local status after successful check-in\r\n          this.hasCheckedInToday = true;\r\n          this.weekDays[this.currentDayIndex].checked = true;\r\n          this.weekDays[this.currentDayIndex].justChecked = true; // Trigger check-in animation\r\n          this.weekDays[this.currentDayIndex].points = `+${data.data.rewardPoints}`; // Corrected to data.rewardPoints\r\n\r\n          // Update user points and continuous check-in days\r\n          this.earnedPoints = data.data.rewardPoints || 0; // Corrected to data.rewardPoints\r\n          this.continuousDays = data.data.continuousDays || 0; // Corrected to data.continuousDays\r\n          this.userPoints = data.data.points || 0; // Corrected to data.points (total points)\r\n\r\n          this.signSuccess = true; // Display check-in success message\r\n          this.playCoinAnimation(); // Play gold coin animation\r\n\r\n          // Re-fetch check-in records to ensure data is up-to-date\r\n          await this.fetchSignRecords();\r\n          // Re-update calendar status to reflect the latest data\r\n          this.updateCalendarStatus();\r\n\r\n          // Animation and tip messages disappear automatically after a period\r\n          setTimeout(() => {\r\n            this.weekDays[this.currentDayIndex].justChecked = false;\r\n          }, 1000); // Check-in animation lasts 1 second\r\n\r\n          setTimeout(() => {\r\n            this.signSuccess = false;\r\n          }, 5000); // Check-in success tip lasts 5 seconds\r\n        } else {\r\n          // If the backend returns an error code, display the error message\r\n          throw new Error(data.msg || '签到失败');\r\n        }\r\n      } catch (error) {\r\n        console.error('签到出错:', error);\r\n        this.signError = error.message || '签到失败';\r\n        // Error message disappears after 5 seconds\r\n        setTimeout(() => { this.signError = ''; }, 5000);\r\n      } finally {\r\n        this.isSigning = false; // Check-in request completed, reset status regardless of success or failure\r\n      }\r\n    },\r\n\r\n    /**\r\n     * 播放金币动画。\r\n     */\r\n    playCoinAnimation() {\r\n      this.showCoin = true;\r\n      this.coinClass = 'coin-spin'; // Trigger spin animation\r\n\r\n      // After spin animation, trigger fly animation\r\n      setTimeout(() => {\r\n        this.coinClass = 'coin-spin coin-fly';\r\n      }, 500);\r\n\r\n      // After fly animation, hide coin and reset animation class\r\n      setTimeout(() => {\r\n        this.showCoin = false;\r\n        this.coinClass = '';\r\n      }, 1800);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n/* 基础样式 */\r\n:root {\r\n  --primary: #4A90E2;        /* 主蓝 */\r\n  --secondary: #7ED321;      /* 安全绿 */\r\n  --accent: #F5A623;         /* 活力橙 */\r\n  --gold: #FFD700;           /* 金色 */\r\n  --emergency: #FF4444;      /* 警示红 */\r\n  --background: #f9f9f9;     /* 背景色 */\r\n  --text: #333;              /* 主文字 */\r\n  --card-bg: #FFFFFF;        /* 卡片背景 */\r\n}\r\n\r\nbody {\r\n  font-family: 'Microsoft YaHei', Arial, sans-serif;\r\n  font-size: 18px;\r\n  line-height: 1.6;\r\n  margin: 0;\r\n  padding-top: 80px; /* 为安全监测栏留出空间 */\r\n  background: var(--background);\r\n  color: var(--text);\r\n}\r\n\r\n/* 安全监测模块 */\r\n.safety-monitoring {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  z-index: 1000;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background: rgba(255,255,255,0.97);\r\n  padding: 15px 30px;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.1);\r\n  border-bottom: 2px solid var(--emergency);\r\n}\r\n\r\n.safety-status {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  font-size: 20px;\r\n}\r\n\r\n.status-indicator {\r\n  width: 24px;\r\n  height: 24px;\r\n  border-radius: 50%;\r\n  background: var(--secondary);\r\n  position: relative;\r\n}\r\n\r\n.status-indicator::after {\r\n  content: '';\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 50%;\r\n  animation: ripple 1.5s infinite;\r\n  border: 2px solid var(--secondary);\r\n}\r\n\r\n@keyframes ripple {\r\n  0% { transform: scale(0.8); opacity: 1; }\r\n  100% { transform: scale(2); opacity: 0; }\r\n}\r\n\r\n.emergency-controls {\r\n  display: flex;\r\n  gap: 15px;\r\n}\r\n\r\n/* 主容器 */\r\n.dashboard {\r\n  display: grid;\r\n  grid-template-columns: 280px 1fr;\r\n  gap: 30px;\r\n  max-width: 1600px;\r\n  margin: 0 auto;\r\n  padding: 30px;\r\n}\r\n\r\n/* 左侧导航 */\r\n.sidebar {\r\n  background: var(--card-bg);\r\n  border-radius: 20px;\r\n  padding: 20px;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.08);\r\n  position: sticky;\r\n  top: 100px;\r\n  height: fit-content;\r\n}\r\n\r\n/* 主内容区 */\r\n.main-content {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\r\n  gap: 25px;\r\n}\r\n\r\n/* 通用卡片样式 */\r\n.card {\r\n  background: var(--card-bg);\r\n  border-radius: 18px;\r\n  padding: 25px;\r\n  box-shadow: 0 4px 12px rgba(0,0,0,0.08);\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 8px 16px rgba(0,0,0,0.1);\r\n}\r\n\r\n/* 适老化控件 */\r\n.elderly-friendly {\r\n  font-size: 20px;\r\n  padding: 18px 25px;\r\n  border-radius: 12px;\r\n  border: none;\r\n  min-width: 120px;\r\n  text-align: center;\r\n  transition: all 0.2s;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 10px;\r\n}\r\n\r\n.elderly-friendly:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n/* 健康数据仪表盘 */\r\n.health-dashboard {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 20px;\r\n  padding: 20px;\r\n  background: linear-gradient(135deg, var(--primary) 0%, #6AB0F3 100%);\r\n  border-radius: 20px;\r\n  color: white;\r\n}\r\n\r\n/* 服务快速入口 */\r\n.quick-services {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\r\n  gap: 15px;\r\n  padding: 20px 0;\r\n}\r\n\r\n/* 聊天记录样式 */\r\n.chat-history {\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n  padding: 15px;\r\n  border: 1px solid #eee;\r\n  border-radius: 12px;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.chat-message {\r\n  margin-bottom: 15px;\r\n  padding: 12px 15px;\r\n  border-radius: 18px;\r\n  max-width: 80%;\r\n}\r\n\r\n.incoming {\r\n  background: #f0f0f0;\r\n  align-self: flex-start;\r\n}\r\n\r\n.outgoing {\r\n  background: var(--primary);\r\n  color: white;\r\n  align-self: flex-end;\r\n  margin-left: auto;\r\n}\r\n\r\n.message-info {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.message-avatar {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  margin-right: 10px;\r\n}\r\n\r\n/* 签到样式 */\r\n.check-in-card {\r\n  background: linear-gradient(135deg, #FF9A9E 0%, #FAD0C4 100%);\r\n  color: white;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.check-in-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.check-in-days {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.check-in-day {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 5;\r\n}\r\n\r\n.day-circle {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: rgba(255,255,255,0.3);\r\n  transition: all 0.3s;\r\n}\r\n\r\n.day-circle.today {\r\n  border: 2px solid white;\r\n  background: rgba(255,255,255,0.5);\r\n}\r\n\r\n.day-circle.checked {\r\n  background: white;\r\n  color: var(--accent);\r\n  box-shadow: 0 3px 6px rgba(0,0,0,0.1);\r\n}\r\n\r\n.day-circle.today.checked {\r\n  border: none;\r\n}\r\n\r\n.day-circle.just-checked {\r\n  animation: pulse 0.5s ease-in-out;\r\n}\r\n\r\n.check-in-button {\r\n  position: relative;\r\n  width: 100%;\r\n  padding: 15px;\r\n  font-size: 22px;\r\n  background: white;\r\n  color: var(--accent);\r\n  border: none;\r\n  border-radius: 12px;\r\n  font-weight: bold;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n.check-in-button:disabled {\r\n  background: #e0e0e0;\r\n  color: #999;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* 签到金币效果 */\r\n.gold-coin {\r\n  position: absolute;\r\n  width: 30px;\r\n  height: 30px;\r\n  background: var(--gold);\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #333;\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.3);\r\n  z-index: 2;\r\n}\r\n\r\n/* 服务商城样式 */\r\n.service-category {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.service-category h3 {\r\n  border-bottom: 2px solid var(--primary);\r\n  padding-bottom: 5px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.service-list {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\r\n  gap: 15px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.service-item {\r\n  border: 1px solid #eee;\r\n  border-radius: 12px;\r\n  padding: 15px;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.service-item:hover {\r\n  transform: translateY(-3px);\r\n  box-shadow: 0 5px 15px rgba(0,0,0,0.1);\r\n}\r\n\r\n.service-item h4 {\r\n  margin-top: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n}\r\n\r\n.service-price {\r\n  color: var(--emergency);\r\n  font-weight: bold;\r\n  font-size: 20px;\r\n  margin: 10px 0;\r\n}\r\n\r\n.service-button {\r\n  width: 100%;\r\n  padding: 10px;\r\n  background: var(--secondary);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n}\r\n\r\n/* AI助手 */\r\n.ai-assistant {\r\n  background: linear-gradient(to bottom right, #f0f8ff, #e6f7ff);\r\n}\r\n\r\n.chat-container {\r\n  margin-top: 15px;\r\n}\r\n\r\n.message {\r\n  padding: 15px;\r\n  border-radius: 15px;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.ai-message {\r\n  background: #e6f7ff;\r\n  border: 1px solid #b3e5fc;\r\n}\r\n\r\n.input-area {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 15px;\r\n}\r\n\r\n.input-area input {\r\n  padding: 12px 15px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 10px;\r\n  font-size: 16px;\r\n  width: 100%;\r\n}\r\n\r\n/* 活动列表 */\r\n.activity-list {\r\n  margin-top: 15px;\r\n}\r\n\r\n.activity-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.activity-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.activity-item > div {\r\n  flex: 1;\r\n}\r\n\r\n.activity-item h3 {\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.activity-item p {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  color: #666;\r\n}\r\n\r\n/* 服务评价 */\r\n.rating-detail {\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.overall-rating {\r\n  flex: 1;\r\n  text-align: center;\r\n}\r\n\r\n.overall-rating p:first-child {\r\n  font-size: 32px;\r\n  font-weight: bold;\r\n  color: var(--accent);\r\n}\r\n\r\n.stars {\r\n  font-size: 24px;\r\n  color: var(--accent);\r\n  margin: 10px 0;\r\n}\r\n\r\n.rating-bars {\r\n  flex: 2;\r\n}\r\n\r\n.rating-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.rating-bar span {\r\n  width: 80px;\r\n}\r\n\r\n.bar-container {\r\n  flex: 1;\r\n  height: 15px;\r\n  background: #eee;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n}\r\n\r\n.bar {\r\n  height: 100%;\r\n  background: var(--accent);\r\n  border-radius: 10px;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 1200px) {\r\n  .dashboard {\r\n      grid-template-columns: 1fr;\r\n  }\r\n  .sidebar {\r\n      position: static;\r\n      margin-bottom: 30px;\r\n  }\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  body {\r\n      padding-top: 120px;\r\n      font-size: 20px;\r\n  }\r\n  .safety-monitoring {\r\n      flex-direction: column;\r\n      gap: 10px;\r\n      padding: 15px;\r\n  }\r\n  .emergency-controls {\r\n      width: 100%;\r\n  }\r\n  .elderly-friendly {\r\n      width: 100%;\r\n      padding: 20px;\r\n  }\r\n  .main-content {\r\n      grid-template-columns: 1fr;\r\n  }\r\n  .service-list {\r\n      grid-template-columns: 1fr;\r\n  }\r\n}\r\n\r\n/* 紧急状态动画 */\r\n@keyframes emergency-pulse {\r\n  0% { box-shadow: 0 0 0 0 rgba(255,68,68,0.4); }\r\n  70% { box-shadow: 0 0 0 15px rgba(255,68,68,0); }\r\n  100% { box-shadow: 0 0 0 0 rgba(255,68,68,0); }\r\n}\r\n\r\n.emergency-mode {\r\n  animation: emergency-pulse 1.5s infinite;\r\n}\r\n\r\n/* 签到动画 */\r\n@keyframes pulse {\r\n  0%, 100% { transform: scale(1); }\r\n  50% { transform: scale(1.2); }\r\n}\r\n\r\n/* 金币旋转动画 */\r\n@keyframes coin-spin {\r\n  0% { transform: rotateY(0) scale(1); }\r\n  20% { transform: rotateY(180deg) scale(1.2); }\r\n  40% { transform: rotateY(360deg) scale(1); }\r\n  60% { transform: rotateY(540deg) scale(1.2); }\r\n  80% { transform: rotateY(720deg) scale(1); }\r\n  100% { transform: rotateY(900deg) scale(1); }\r\n}\r\n\r\n.coin-spin {\r\n  animation: coin-spin 1.5s forwards;\r\n}\r\n\r\n/* 金币上升动画 */\r\n@keyframes coin-fly {\r\n  0% { transform: translateY(0) scale(1); opacity: 1; }\r\n  70% { transform: translateY(-40px) scale(1.2); opacity: 0.8; }\r\n  100% { transform: translateY(-60px) scale(1.5); opacity: 0; }\r\n}\r\n\r\n.coin-fly {\r\n  animation: coin-fly 0.8s forwards;\r\n}\r\n</style>","import { render } from \"./Elder.vue?vue&type=template&id=becfc51c\"\nimport script from \"./Elder.vue?vue&type=script&lang=js\"\nexport * from \"./Elder.vue?vue&type=script&lang=js\"\n\nimport \"./Elder.vue?vue&type=style&index=0&id=becfc51c&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// 全局配置文件\nconst config = {\n  // 后端API基础地址\n  API_BASE_URL: 'http://14.103.237.241:8080'\n};\n\nexport default config;"],"names":["class","style","id","key","_createElementBlock","_Fragment","_createElementVNode","role","_createTextVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$data","continuousDays","_hoisted_5","onClick","_cache","args","$options","goToAEldserve","goToElderHealthy","goToUserElder","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","userPoints","_hoisted_11","_renderList","weekDays","day","index","_normalizeClass","currentDayIndex","checked","justChecked","label","points","handleCheckIn","disabled","hasCheckedInToday","isSigning","showCoin","coinClass","_createCommentVNode","_hoisted_12","signError","_hoisted_13","signSuccess","_hoisted_14","earnedPoints","_createStaticVNode","getWeekRange","date","getDay","diff","getDate","monday","Date","setDate","sunday","start","toISOString","split","end","formatDate","dateStr","isNaN","getTime","e","console","warn","data","signRecords","initialized","created","this","initUserData","methods","$router","push","Promise","all","fetchUserPoints","fetchSignRecords","updateCalendarStatus","error","message","setTimeout","token","localStorage","getItem","Error","response","fetch","config","API_BASE_URL","method","headers","ok","status","json","log","code","msg","rows","Array","isArray","map","record","rewardPoints","today","setHours","forEach","weekRange","weekStart","weekEnd","thisWeekRecords","filter","recordDate","dayIndex","playCoinAnimation","__exports__","render"],"sourceRoot":""}